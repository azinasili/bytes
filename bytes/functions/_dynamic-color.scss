/// Brightness of color getter
/// @author Azin Asili
/// @access private
/// @param {color} $color - Color to be analyzed
/// @return {number} Color brightness level
@function _brightness($color) {
  $_red   : red($color);
  $_green : green($color);
  $_blue  : blue($color);

  @return ($_red + $_green + $_blue) / (255 * 100);
}

/// Compare color brightness and return new color
/// @author Azin Asili
/// @access public
/// @param {color} $color - Color to base output on
/// @require {function} _brightness - Brightness of color getter
/// @require {function} chroma - Change the tint or shade of a color
/// @return {color} New color based on inputed value
/// @example scss
///   .foo {
///     color: dynamic-color(#bada55);
///   }
/// @example css
///   .foo {
///     color: #4a5722;
///   }
@function dynamic-color($color) {
  $_color-light           : chroma($color, 80%);
  $_color-dark            : chroma($color, -60%);
  $_color-brightness      : _brightness($color);
  $_light-text-brightness : _brightness($_color-light);
  $_dark-text-brightness  : _brightness($_color-dark);
  $_light-bg-brightness   : abs($_color-brightness - $_light-text-brightness);
  $_dark-bg-brightness    : abs($_color-brightness - $_dark-text-brightness);

  @if $_light-bg-brightness > $_dark-bg-brightness {
    @return $_color-light;
  }

  @return $_color-dark;
}
